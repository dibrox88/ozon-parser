# –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ä—Å–µ—Ä–æ–º —á–µ—Ä–µ–∑ Telegram

## ü§ñ Telegram –±–æ—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞—Ä—Å–µ—Ä–æ–º

–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ —É–ø—Ä–∞–≤–ª—è—Ç—å –ø–∞—Ä—Å–µ—Ä–æ–º –ø—Ä—è–º–æ –∏–∑ Telegram!

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:

- `/start` - –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥
- `/help` - –ü–æ–¥—Ä–æ–±–Ω–∞—è —Å–ø—Ä–∞–≤–∫–∞
- `/status` - –°—Ç–∞—Ç—É—Å –ø–∞—Ä—Å–µ—Ä–∞ (—Ä–∞–±–æ—Ç–∞–µ—Ç/–≥–æ—Ç–æ–≤, –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∑–∞–ø—É—Å–∫–∞)
- `/parse` - **–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥ –≤—Ä—É—á–Ω—É—é**

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–æ—Ç–∞:

1. **–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:**
   ```bash
   cd ~/ozon_parser
   chmod +x setup-telegram-bot.sh
   ./setup-telegram-bot.sh
   ```

2. **–ë–æ—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∫–∞–∫ systemd —Å–µ—Ä–≤–∏—Å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏**

3. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ—Ç–æ–º:**
   ```bash
   # –°—Ç–∞—Ç—É—Å
   sudo systemctl status ozon-bot
   
   # –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
   sudo systemctl restart ozon-bot
   
   # –û—Å—Ç–∞–Ω–æ–≤–∫–∞
   sudo systemctl stop ozon-bot
   
   # –õ–æ–≥–∏
   tail -f ~/ozon_parser/logs/telegram_bot.log
   ```

4. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ Telegram
   - –ù–∞–π–¥–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞
   - –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start`
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/parse` –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞!

---

## ‚è∞ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é

–ü–∞—Ä—Å–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç —Å 9:00 –¥–æ 21:00 (–ú–°–ö).

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ cron:

1. **–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:**
   ```bash
   cd ~/ozon_parser
   chmod +x setup-cron-auto.sh
   ./setup-cron-auto.sh
   ```

2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏:**
   ```bash
   # –ü–æ–∫–∞–∑–∞—Ç—å cron –∑–∞–¥–∞—á–∏
   crontab -l
   
   # –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å—Ç—Ä–æ–∫–∞:
   # */15 9-21 * * * /home/ozon/ozon_parser/run_parser.sh
   ```

3. **–ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞:**
   ```bash
   tail -f ~/ozon_parser/logs/cron.log
   ```

### –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ:

- **–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã:** 9:00 - 21:00 –ú–°–ö
- **–ò–Ω—Ç–µ—Ä–≤–∞–ª:** –ö–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç
- **–ó–∞–ø—É—Å–∫–æ–≤ –≤ –¥–µ–Ω—å:** ~48 —Ä–∞–∑
- **–õ–æ–≥–∏:** `~/ozon_parser/logs/cron.log`

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è:

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ cron:
```bash
crontab -e
```

–ü—Ä–∏–º–µ—Ä—ã:
```bash
# –ö–∞–∂–¥—ã–µ 30 –º–∏–Ω—É—Ç (9:00-21:00)
*/30 9-21 * * * /home/ozon/ozon_parser/run_parser.sh

# –ö–∞–∂–¥—ã–π —á–∞—Å (9:00-21:00)
0 9-21 * * * /home/ozon/ozon_parser/run_parser.sh

# –ö–∞–∂–¥—ã–µ 10 –º–∏–Ω—É—Ç (–∫—Ä—É–≥–ª–æ—Å—É—Ç–æ—á–Ω–æ)
*/10 * * * * /home/ozon/ozon_parser/run_parser.sh
```

---

## üç™ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö cookies

–¢–µ–ø–µ—Ä—å –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∏–∑-–∑–∞ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö cookies –≤—ã –ø–æ–ª—É—á–∏—Ç–µ –ø–æ–¥—Ä–æ–±–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram:

```
üç™ COOKIES –£–°–¢–ê–†–ï–õ–ò!

‚ùå Ozon –±–ª–æ–∫–∏—Ä—É–µ—Ç –¥–æ—Å—Ç—É–ø —Å —Ç–µ–∫—É—â–∏–º–∏ cookies.

üìù –î–µ–π—Å—Ç–≤–∏—è:
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ:
   python export_cookies.py

2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ cookies –Ω–∞ —Å–µ—Ä–≤–µ—Ä:
   scp ozon_cookies.json ozon@SERVER:~/ozon_parser/

‚è∞ Cookies –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å –∫–∞–∂–¥—ã–µ 3-7 –¥–Ω–µ–π.
```

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∞–±–æ—Ç—ã

### 1. –õ–æ–≥–∏ –ø–∞—Ä—Å–µ—Ä–∞
```bash
# –û—Å–Ω–æ–≤–Ω—ã–µ –ª–æ–≥–∏
tail -f ~/ozon_parser/logs/ozon_parser_*.log

# –õ–æ–≥–∏ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞
tail -f ~/ozon_parser/logs/cron.log

# –õ–æ–≥–∏ Telegram –±–æ—Ç–∞
tail -f ~/ozon_parser/logs/telegram_bot.log
```

### 2. –°—Ç–∞—Ç—É—Å —á–µ—Ä–µ–∑ Telegram
–û—Ç–ø—Ä–∞–≤—å—Ç–µ –±–æ—Ç—É `/status` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è:
- –°—Ç–∞—Ç—É—Å –ø–∞—Ä—Å–µ—Ä–∞ (—Ä–∞–±–æ—Ç–∞–µ—Ç/–≥–æ—Ç–æ–≤)
- –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∑–∞–ø—É—Å–∫–∞
- –°–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–æ—à–ª–æ

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ cron
```bash
# –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á
crontab -l

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–ø—É—Å–∫–∏ (–∏–∑ –ª–æ–≥–æ–≤)
grep "–ó–∞–ø—É—Å–∫ –ø–∞—Ä—Å–µ—Ä–∞" ~/ozon_parser/logs/cron.log | tail -20
```

---

## üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç:
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
sudo systemctl status ozon-bot

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –æ—à–∏–±–∫–∏
tail -50 ~/ozon_parser/logs/telegram_bot_error.log

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
sudo systemctl restart ozon-bot
```

### Cron –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞
chmod +x ~/ozon_parser/run_parser.sh

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
tail -50 ~/ozon_parser/logs/cron.log

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å cron
crontab -l
```

### –ü–∞—Ä—Å–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –±–æ—Ç–∞:
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
ps aux | grep telegram_bot

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ main.py
ls -la ~/ozon_parser/main.py

# –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Ä—É—á–Ω—É—é
cd ~/ozon_parser
source venv/bin/activate
python main.py
```

---

## ‚úÖ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (–≤—Å–µ –∫–æ–º–∞–Ω–¥—ã):

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd ~/ozon_parser

# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Telegram –±–æ—Ç–∞
chmod +x setup-telegram-bot.sh
./setup-telegram-bot.sh

# 2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫
chmod +x setup-cron-auto.sh
./setup-cron-auto.sh

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É
sudo systemctl status ozon-bot
crontab -l

# 4. –í Telegram –æ—Ç–ø—Ä–∞–≤—å—Ç–µ /start –±–æ—Ç—É
```

---

## üìù –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ cookies (–∫–∞–∂–¥—ã–µ 3-7 –¥–Ω–µ–π)

**–ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ:**
```powershell
# 1. –≠–∫—Å–ø–æ—Ä—Ç cookies
python export_cookies.py

# 2. –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
scp ozon_cookies.json ozon@85.193.81.13:~/ozon_parser/
```

**–ò–ª–∏ —á–µ—Ä–µ–∑ Telegram:**
- –ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–≤–µ–¥–æ–º–∏—Ç –æ–± —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö cookies
- –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –∏–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

---

## üéØ –ò—Ç–æ–≥–æ

‚úÖ **Telegram –±–æ—Ç** - –∑–∞–ø—É—Å–∫ –ø–∞—Ä—Å–∏–Ω–≥–∞ –∫–æ–º–∞–Ω–¥–æ–π `/parse`
‚úÖ **–ê–≤—Ç–æ–∑–∞–ø—É—Å–∫** - –∫–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç (9:00-21:00)
‚úÖ **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - –æ–± —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö cookies
‚úÖ **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - —Å—Ç–∞—Ç—É—Å —á–µ—Ä–µ–∑ `/status`
‚úÖ **–õ–æ–≥–∏** - –ø–æ–ª–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

–ü–∞—Ä—Å–µ—Ä —Ç–µ–ø–µ—Ä—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω! üöÄ
