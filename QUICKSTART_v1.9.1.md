# üöÄ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ v1.9.1 - –ê–Ω—Ç–∏–¥–µ—Ç–µ–∫—Ç + –°–∫—Ä–∏–Ω—à–æ—Ç—ã

## –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:

### 1. ‚úÖ –í–∫–ª—é—á–µ–Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤
- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `sync_send_photo()` –≤ `notifier.py`
- –¢–µ–ø–µ—Ä—å —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –±—É–¥—É—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å—Å—è –≤ Telegram –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ

### 2. üõ°Ô∏è –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω playwright-stealth
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ `playwright-stealth==2.0.0`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ stealth-—Ç–µ—Ö–Ω–∏–∫ –∫ –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- –°–∫—Ä—ã–≤–∞–µ—Ç –ø—Ä–∏–∑–Ω–∞–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –æ—Ç –∞–Ω—Ç–∏–±–æ—Ç-—Å–∏—Å—Ç–µ–º Ozon

### 3. üîß –£—Å–∏–ª–µ–Ω–∞ –∑–∞—â–∏—Ç–∞ –æ—Ç –¥–µ—Ç–µ–∫—Ç–∞
- –£–ª—É—á—à–µ–Ω—ã browser –∞—Ä–≥—É–º–µ–Ω—Ç—ã –≤ `main.py`
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π JavaScript –¥–ª—è –ø–æ–¥–º–µ–Ω—ã navigator —Å–≤–æ–π—Å—Ç–≤
- Canvas –∏ WebGL fingerprint protection
- –ë–æ–ª–µ–µ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ –ø–ª–∞–≥–∏–Ω—ã –±—Ä–∞—É–∑–µ—Ä–∞

---

## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø—Ç (Windows)
```powershell
.\update-server.ps1
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –í—Ä—É—á–Ω—É—é
```powershell
# –ö–æ–ø–∏—Ä—É–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
scp main.py notifier.py requirements-production.txt ozon@85.193.81.13:~/ozon_parser/

# –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh ozon@85.193.81.13

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
cd ~/ozon_parser
source venv/bin/activate
pip install playwright-stealth==2.0.0

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–∏—Å—ã
sudo systemctl restart ozon-parser-api

# –¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—É—Å–∫
python main.py
```

---

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã:

### 1. –õ–æ–∫–∞–ª—å–Ω–æ (—É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç):
- [x] playwright-stealth —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- [x] Stealth-—Ä–µ–∂–∏–º –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è
- [x] –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ Ozon –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- [ ] –û–∂–∏–¥–∞–µ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

### 2. –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ stealth –∑–∞–≥—Ä—É–∑–∏–ª—Å—è
grep "playwright-stealth –∑–∞–≥—Ä—É–∂–µ–Ω" ~/ozon_parser/logs/ozon_parser_*.log

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –Ω–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫
tail -100 ~/ozon_parser/logs/ozon_parser_*.log | grep -i "–±–ª–æ–∫\|block\|captcha"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è
ls -lh ~/ozon_parser/screenshots/ | tail -10
```

---

## –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:

- `main.py` - –¥–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ playwright-stealth
- `notifier.py` - –≤–∫–ª—é—á–µ–Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤
- `requirements-production.txt` - –¥–æ–±–∞–≤–ª–µ–Ω playwright-stealth==2.0.0
- `stealth.py` - –Ω–æ–≤—ã–π –º–æ–¥—É–ª—å —Å —Ö–µ–ª–ø–µ—Ä–∞–º–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π)
- `ANTIDETECT_GUIDE.md` - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∞–Ω—Ç–∏–¥–µ—Ç–µ–∫—Ç—É

---

## –ï—Å–ª–∏ –≤—Å—ë —Ä–∞–≤–Ω–æ –±–ª–æ–∫–∏—Ä—É–µ—Ç:

### –ü–ª–∞–Ω –ë:
1. –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å Firefox –≤–º–µ—Å—Ç–æ Chromium
2. –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–∫—Å–∏ —Å —Ä–æ—Å—Å–∏–π—Å–∫–∏–º IP
3. –£–≤–µ–ª–∏—á–∏—Ç—å –∑–∞–¥–µ—Ä–∂–∫–∏ –º–µ–∂–¥—É –¥–µ–π—Å—Ç–≤–∏—è–º–∏
4. –ó–∞–ø—É—Å–∫–∞—Ç—å –≤ –Ω–µ–≥–æ–ª–æ–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ (HEADLESS=False) –ª–æ–∫–∞–ª—å–Ω–æ

–î–µ—Ç–∞–ª–∏ –≤ `ANTIDETECT_GUIDE.md` üìö

---

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –õ–æ–∫–∞–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç, –≥–æ—Ç–æ–≤–æ –∫ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
