# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –¥–µ–ø–ª–æ—é –Ω–∞ Amvera.ru

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ
1. [–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞](#–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞-–ø—Ä–æ–µ–∫—Ç–∞)
2. [–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ Amvera](#—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è-–Ω–∞-amvera)
3. [–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞](#—Å–æ–∑–¥–∞–Ω–∏–µ-–ø—Ä–æ–µ–∫—Ç–∞)
4. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö-–æ–∫—Ä—É–∂–µ–Ω–∏—è)
5. [–î–µ–ø–ª–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](#–¥–µ–ø–ª–æ–π-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
6. [–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã](#–ø—Ä–æ–≤–µ—Ä–∫–∞-—Ä–∞–±–æ—Ç—ã)
7. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø—É—Å–∫–∞](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ-–∑–∞–ø—É—Å–∫–∞)
8. [Troubleshooting](#troubleshooting)

---

## üöÄ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

### –§–∞–π–ª—ã –¥–ª—è –¥–µ–ø–ª–æ—è
–í –ø—Ä–æ–µ–∫—Ç–µ —É–∂–µ —Å–æ–∑–¥–∞–Ω—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ñ–∞–π–ª—ã:

- ‚úÖ `Dockerfile` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- ‚úÖ `.dockerignore` - –∏—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è Docker
- ‚úÖ `amvera.yml` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è Amvera
- ‚úÖ `requirements.txt` - Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–æ–±–Ω–æ–≤–ª—ë–Ω —Å fastapi –∏ uvicorn)
- ‚úÖ `api_server.py` - API —Å–µ—Ä–≤–µ—Ä –Ω–∞ FastAPI

### –ß—Ç–æ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ Amvera
- ‚úÖ API —Å–µ—Ä–≤–µ—Ä –Ω–∞ –ø–æ—Ä—Ç—É 8000
- ‚úÖ Headless —Ä–µ–∂–∏–º Playwright (–±–µ–∑ GUI)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–∞—Ä—Å–∏–Ω–≥ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é (—á–µ—Ä–µ–∑ cron –∏–ª–∏ App Script)
- ‚úÖ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å Google Sheets

### –ß—Ç–æ –ù–ï –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- ‚ùå –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (–Ω—É–∂–Ω–æ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å cookies –ª–æ–∫–∞–ª—å–Ω–æ)
- ‚ùå QR-–∫–æ–¥ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (—Ç–æ–ª—å–∫–æ email –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)
- ‚ùå –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –±—Ä–∞—É–∑–µ—Ä–∞

---

## üîê –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ Amvera

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://amvera.ru/
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å —á–µ—Ä–µ–∑ GitHub, GitLab –∏–ª–∏ Email
3. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ email –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è
4. –í–æ–π–¥–∏—Ç–µ –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç

---

## üì¶ –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ GitHub (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. **–°–æ–∑–¥–∞–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub**:
   ```bash
   # –ï—Å–ª–∏ –µ—â—ë –Ω–µ —Å–æ–∑–¥–∞–Ω —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
   git init
   git add .
   git commit -m "feat: –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –¥–µ–ø–ª–æ—é –Ω–∞ Amvera"
   git branch -M main
   git remote add origin https://github.com/YOUR_USERNAME/ozon-parser.git
   git push -u origin main
   ```

2. **–í Amvera**:
   - –ù–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç"
   - –í—ã–±–µ—Ä–∏—Ç–µ "–ò–∑ Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è"
   - –ü–æ–¥–∫–ª—é—á–∏—Ç–µ GitHub –∞–∫–∫–∞—É–Ω—Ç
   - –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π `ozon-parser`
   - –í—ã–±–µ—Ä–∏—Ç–µ –≤–µ—Ç–∫—É `main`

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ CLI

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Amvera CLI**:
   ```bash
   npm install -g @amvera/cli
   # –∏–ª–∏
   curl -fsSL https://cli.amvera.io/install.sh | sh
   ```

2. **–ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å**:
   ```bash
   amvera login
   ```

3. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç**:
   ```bash
   cd C:\Users\—Ñ—Ñ\Documents\Apps\Ozon_Parser
   amvera init
   ```

4. **–ó–∞–¥–µ–ø–ª–æ–π—Ç–µ**:
   ```bash
   amvera deploy
   ```

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–í –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ Amvera –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª **"–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è"** –∏ –¥–æ–±–∞–≤—å—Ç–µ:

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

```env
# Telegram
TELEGRAM_BOT_TOKEN=your_bot_token_here
TELEGRAM_CHAT_ID=your_chat_id_here

# Ozon
OZON_EMAIL=your@email.com
OZON_USER_ID=46206571

# Google Sheets
GOOGLE_SHEETS_URL=https://docs.google.com/spreadsheets/d/YOUR_SHEET_ID/edit

# API Security
API_SECRET_KEY=your_very_secret_key_here_min_32_chars

# Browser
HEADLESS=true
```

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

```env
# Ozon —Ç–µ–ª–µ—Ñ–æ–Ω (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
OZON_PHONE=+79991234567

# Google Credentials (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
GOOGLE_CREDENTIALS_FILE=google_credentials.json
```

### –í–∞–∂–Ω–æ! Google Credentials

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å —Ñ–∞–π–ª `google_credentials.json`, –µ–≥–æ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∫–∞–∫ **—Å–µ–∫—Ä–µ—Ç**:

1. –í Amvera –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **"–°–µ–∫—Ä–µ—Ç—ã"**
2. –°–æ–∑–¥–∞–π—Ç–µ —Å–µ–∫—Ä–µ—Ç —Å –∏–º–µ–Ω–µ–º `GOOGLE_CREDENTIALS_JSON`
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ `google_credentials.json` –≤ –∑–Ω–∞—á–µ–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–∞
4. –í –∫–æ–¥–µ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ) –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —á–µ—Ä–µ–∑:
   ```python
   import os
   import json
   
   credentials_json = os.getenv('GOOGLE_CREDENTIALS_JSON')
   if credentials_json:
       credentials = json.loads(credentials_json)
   ```

---

## üöÄ –î–µ–ø–ª–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π (—á–µ—Ä–µ–∑ GitHub)

1. –°–¥–µ–ª–∞–π—Ç–µ commit –∏ push –≤ GitHub:
   ```bash
   git add .
   git commit -m "feat: –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è Amvera"
   git push origin main
   ```

2. Amvera –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å—Ç–∏—Ç –¥–µ–ø–ª–æ–π –ø—Ä–∏ push –≤ `main` –≤–µ—Ç–∫—É

3. –°–ª–µ–¥–∏—Ç–µ –∑–∞ –ª–æ–≥–∞–º–∏ –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ Amvera

### –†—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π (—á–µ—Ä–µ–∑ CLI)

```bash
cd C:\Users\—Ñ—Ñ\Documents\Apps\Ozon_Parser
amvera deploy
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –¥–µ–ø–ª–æ—è

```bash
# –ß–µ—Ä–µ–∑ CLI
amvera logs

# –ò–ª–∏ –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ Amvera
# –í–∫–ª–∞–¥–∫–∞ "–õ–æ–≥–∏" -> "–î–µ–ø–ª–æ–π"
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ API —Å–µ—Ä–≤–µ—Ä–∞

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è –ø–æ–ª—É—á–∏—Ç–µ URL –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, `https://ozon-parser.amvera.app`)

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ health endpoint
curl https://ozon-parser.amvera.app/health

# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å:
{
  "status": "healthy",
  "service": "Ozon Parser API",
  "version": "1.0.0"
}
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –ø–∞—Ä—Å–µ—Ä–∞

```bash
curl https://ozon-parser.amvera.app/status

# –í–µ—Ä–Ω—ë—Ç —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
```

### 3. –ó–∞–ø—É—Å–∫ –ø–∞—Ä—Å–∏–Ω–≥–∞ —á–µ—Ä–µ–∑ API

```bash
curl -X POST https://ozon-parser.amvera.app/trigger \
  -H "Authorization: Bearer YOUR_API_SECRET_KEY" \
  -H "Content-Type: application/json" \
  -d '{"source": "manual", "force": false}'
```

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ Telegram

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø–∞—Ä—Å–µ—Ä–∞ –≤—ã –¥–æ–ª–∂–Ω—ã –ø–æ–ª—É—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram.

---

## ‚è∞ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø—É—Å–∫–∞

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ Google Apps Script (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ñ–∞–π–ª `google-apps-script.js`:

1. –û—Ç–∫—Ä–æ–π—Ç–µ Google Sheets
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **–†–∞—Å—à–∏—Ä–µ–Ω–∏—è ‚Üí Apps Script**
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–¥ –∏–∑ `google-apps-script.js`
4. –ó–∞–º–µ–Ω–∏—Ç–µ `API_URL` –Ω–∞ URL –≤–∞—à–µ–≥–æ Amvera –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
5. –ó–∞–º–µ–Ω–∏—Ç–µ `API_SECRET_KEY` –Ω–∞ –≤–∞—à —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á
6. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ç—Ä–∏–≥–≥–µ—Ä:
   - –ù–∞–∂–º–∏—Ç–µ "–¢—Ä–∏–≥–≥–µ—Ä—ã" (‚è∞ –∑–Ω–∞—á–æ–∫ —Å–ª–µ–≤–∞)
   - –ù–∞–∂–º–∏—Ç–µ "+ –î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–∏–≥–≥–µ—Ä"
   - –§—É–Ω–∫—Ü–∏—è: `triggerParser`
   - –°–æ–±—ã—Ç–∏—è: "–í—Ä–µ–º–µ–Ω–Ω–æ–π —Ç—Ä–∏–≥–≥–µ—Ä"
   - –¢–∏–ø: "–ï–∂–µ—á–∞—Å–Ω—ã–π —Ç–∞–π–º–µ—Ä"
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ Amvera Cron (–µ—Å–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è)

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.amvera/cron.yml`:

```yaml
cron:
  - schedule: "0 * * * *"  # –ö–∞–∂–¥—ã–π —á–∞—Å
    command: "python -c 'import requests; requests.post(\"http://localhost:8000/trigger\", json={\"source\": \"cron\"}, headers={\"Authorization\": \"Bearer $API_SECRET_KEY\"})'"
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –í–Ω–µ—à–Ω–∏–π cron —Å–µ—Ä–≤–∏—Å

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ https://cron-job.org/ –∏–ª–∏ https://easycron.com/:

1. –°–æ–∑–¥–∞–π—Ç–µ –∑–∞–¥–∞–Ω–∏–µ
2. URL: `https://ozon-parser.amvera.app/trigger`
3. Method: POST
4. Headers:
   - `Authorization: Bearer YOUR_API_SECRET_KEY`
   - `Content-Type: application/json`
5. Body: `{"source": "external_cron"}`
6. Schedule: –∫–∞–∂–¥—ã–π —á–∞—Å

---

## üîß Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: "Module not found"

**–†–µ—à–µ–Ω–∏–µ**: –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ `requirements.txt`:
```bash
# –õ–æ–∫–∞–ª—å–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É
pip install -r requirements.txt
```

### –ü—Ä–æ–±–ª–µ–º–∞: "Playwright browser not found"

**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤ `Dockerfile` –µ—Å—Ç—å:
```dockerfile
RUN playwright install chromium
RUN playwright install-deps chromium
```

### –ü—Ä–æ–±–ª–µ–º–∞: "Connection closed" –ø—Ä–∏ –ø–∞—Ä—Å–∏–Ω–≥–µ

**–†–µ—à–µ–Ω–∏–µ**: 
1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `HEADLESS=true` –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ cookies –∞–∫—Ç—É–∞–ª—å–Ω—ã (—ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ —Å–≤–µ–∂–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ)
3. –ó–∞–≥—Ä—É–∑–∏—Ç–µ cookies –Ω–∞ —Å–µ—Ä–≤–µ—Ä (—Å–º. –Ω–∏–∂–µ)

### –ü—Ä–æ–±–ª–µ–º–∞: "Cookies expired"

**–†–µ—à–µ–Ω–∏–µ**: –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ cookies –ª–æ–∫–∞–ª—å–Ω–æ –∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ –Ω–∞ Amvera:

1. **–õ–æ–∫–∞–ª—å–Ω–æ**:
   ```bash
   python export_cookies.py
   ```

2. **–ó–∞–≥—Ä—É–∑–∏—Ç–µ –Ω–∞ Amvera**:
   
   –ß–µ—Ä–µ–∑ CLI:
   ```bash
   # –ï—Å–ª–∏ –µ—Å—Ç—å SSH –¥–æ—Å—Ç—É–ø
   amvera ssh
   cat > ozon_cookies.json
   # –í—Å—Ç–∞–≤—å—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞, –Ω–∞–∂–º–∏—Ç–µ Ctrl+D
   ```
   
   –ò–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ endpoint –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ cookies:
   ```python
   # –î–æ–±–∞–≤—å—Ç–µ –≤ api_server.py
   @app.post("/upload-cookies")
   async def upload_cookies(cookies: dict, authorization: str = Header(None)):
       if not verify_api_key(authorization):
           raise HTTPException(status_code=401, detail="Unauthorized")
       
       with open('ozon_cookies.json', 'w') as f:
           json.dump(cookies, f)
       return {"status": "success"}
   ```

### –ü—Ä–æ–±–ª–µ–º–∞: "Out of memory"

**–†–µ—à–µ–Ω–∏–µ**: 
1. –£–≤–µ–ª–∏—á—å—Ç–µ —Ä–µ—Å—É—Ä—Å—ã –≤ Amvera (—Ç–∞—Ä–∏—Ñ —Å –±–æ–ª—å—à–µ–π –ø–∞–º—è—Ç—å—é)
2. –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–∞—Ä—Å–∏–Ω–≥–æ–≤
3. –î–æ–±–∞–≤—å—Ç–µ –æ—á–∏—Å—Ç–∫—É –∫—ç—à–∞:
   ```python
   # –í –∫–æ–Ω—Ü–µ –ø–∞—Ä—Å–∏–Ω–≥–∞
   import gc
   gc.collect()
   ```

### –ü—Ä–æ–±–ª–µ–º–∞: "API timeout"

**–†–µ—à–µ–Ω–∏–µ**: –£–≤–µ–ª–∏—á—å—Ç–µ timeout –≤ uvicorn:
```yaml
# –í amvera.yml
run:
  command: python -m uvicorn api_server:app --host 0.0.0.0 --port 8000 --timeout-keep-alive 300
```

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

```bash
# –ß–µ—Ä–µ–∑ CLI
amvera logs -f

# –ò–ª–∏ –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ Amvera
# –í–∫–ª–∞–¥–∫–∞ "–õ–æ–≥–∏" -> "Runtime"
```

### –ú–µ—Ç—Ä–∏–∫–∏

–í Amvera –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ:
- CPU usage
- Memory usage
- Network traffic
- Response time

---

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –ß–µ—Ä–µ–∑ Git

```bash
git add .
git commit -m "feat: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞"
git push origin main
```

Amvera –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é.

### –ß–µ—Ä–µ–∑ CLI

```bash
amvera deploy --force
```

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –í–∞–∂–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

1. **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ**:
   - `.env` —Ñ–∞–π–ª—ã
   - `ozon_cookies.json`
   - `google_credentials.json`
   - API –∫–ª—é—á–∏ –≤ –∫–æ–¥–µ

2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∏–ª—å–Ω—ã–µ API –∫–ª—é—á–∏**:
   ```bash
   # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–µ–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞
   python -c "import secrets; print(secrets.token_urlsafe(32))"
   ```

3. **–û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ API**:
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ IP whitelist (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ –≤ Amvera)
   - –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Ç–æ–∫–µ–Ω—ã –Ω–∞ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ
   - –õ–æ–≥–∏—Ä—É–π—Ç–µ –≤—Å–µ API –≤—ã–∑–æ–≤—ã

4. **–†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**:
   ```bash
   pip list --outdated
   ```

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- **Amvera –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: https://amvera.ru/docs
- **Amvera Discord**: https://discord.gg/amvera
- **Email**: support@amvera.ru

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º

- [ ] –í—Å–µ —Ñ–∞–π–ª—ã —Å–æ–∑–¥–∞–Ω—ã (Dockerfile, amvera.yml, .dockerignore)
- [ ] requirements.txt —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- [ ] –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤ Amvera
- [ ] API_SECRET_KEY —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω –∏ –¥–æ–±–∞–≤–ª–µ–Ω
- [ ] Google credentials –¥–æ–±–∞–≤–ª–µ–Ω—ã –∫–∞–∫ —Å–µ–∫—Ä–µ—Ç
- [ ] Cookies —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –ª–æ–∫–∞–ª—å–Ω–æ
- [ ] Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ–∑–¥–∞–Ω –∏ –∑–∞–ø—É—à–µ–Ω
- [ ] Amvera –ø—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –∏ –ø–æ–¥–∫–ª—é—á—ë–Ω –∫ GitHub
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –Ω–∞—Å—Ç—Ä–æ–µ–Ω

---

**–ì–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é! üöÄ**
